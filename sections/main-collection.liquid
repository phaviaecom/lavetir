{%- liquid
  assign current_filter_size = 0

  for filter in collection.filters
    assign current_filter_size = current_filter_size | plus: filter.active_values.size
  endfor
-%}

<div
  class="collection-content"
  data-section-id="{{ section.id }}"
  data-section-type="collection-grid"
>
  <div id="CollectionAjaxContent">
    <div class="page-width">
      <div class="grid">
        <div class="grid__item medium-up--one-fifth grid__item--sidebar">
          {%- render 'collection-grid-filters',
            collection: collection,
            enable_sidebar: section.settings.enable_sidebar,
            filter_style: section.settings.filter_style,
            collapsed: section.settings.collapsed,
            enable_color_swatches: section.settings.enable_color_swatches
          -%}
        </div>
        <div class="grid__item medium-up--four-fifths grid__item--content">
          {%- liquid
            for block in section.blocks
              case block.type
              when 'product_grid'
                assign paginate_by = block.settings.per_row | times: block.settings.rows_per_page
              endcase
            endfor
          -%}

{% if collection.handle contains "bridesmaid-dresses" %}
<div class="collectionads">
<a href="/collections/plus-size-bridesmaid-dresses?ref=collectionpage"><img src="https://cdn.shopify.com/s/files/1/0643/9976/9858/files/catbanner3_01_300x.jpg?v=1"></a>                  
<a href="/products/swatches?ref=collectionpage"><img src="https://cdn.shopify.com/s/files/1/0643/9976/9858/files/catbanner3_02_300x.jpg?v=1"></a>
<a href="/pages/bridesmaid-colors?ref=collectionpage"><img src="https://cdn.shopify.com/s/files/1/0643/9976/9858/files/catbanner3_03_300x.jpg?v=1"></a>   
<a href="/collections/wedding-dresses?ref=collectionpage"><img src="https://cdn.shopify.com/s/files/1/0643/9976/9858/files/catbanner3_04_300x.jpg?v=1"></a>                
</div>    
<div class="collectioncolors">
<p class="pcontentcolor"><strong>Supported Colors</strong></p>
<ul class="showcolorsul">
<li><a href="https://www.lavetir.com/collections/white-bridesmaid-dresses" alt="White Bridesmaid Dresses" class="show-colors show-color-white" title="White Bridesmaid Dresses"> </a></li>
  <li><a href="https://www.lavetir.com/collections/klein-blue-bridesmaid-dresses" alt="Klein Blue Bridesmaid Dresses" class="show-colors show-color-klein-blue" title="Klein Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/burgundy-bridesmaid-dresses" alt="Burgundy Bridesmaid Dresses" class="show-colors show-color-burgundy" title="Burgundy Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/red-bridesmaid-dresses" alt="Red Bridesmaid Dresses" class="show-colors show-color-red" title="Red Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/royal-blue-bridesmaid-dresses" alt="Royal Blue Bridesmaid Dresses" class="show-colors show-color-royal_blue" title="Royal Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/pink-bridesmaid-dresses" alt="Pink Bridesmaid Dresses" class="show-colors show-color-pink" title="Pink Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/navy-blue-bridesmaid-dresses" alt="Navy Blue Bridesmaid Dresses" class="show-colors show-color-navy_blue" title="Navy Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/black-bridesmaid-dresses" alt="Black Bridesmaid Dresses" class="show-colors show-color-black" title="Black Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/plum-bridesmaid-dresses" alt="Plum Bridesmaid Dresses" class="show-colors show-color-plum" title="Plum Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/fuchsia-bridesmaid-dresses" alt="Fuchsia Bridesmaid Dresses" class="show-colors show-color-fuchsia" title="Fuchsia Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/champagne-bridesmaid-dresses" alt="Champagne Bridesmaid Dresses" class="show-colors show-color-champagne" title="Champagne Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/pearl-pink-bridesmaid-dresses" alt="Pearl Pink Bridesmaid Dresses" class="show-colors show-color-pearl_pink" title="Pearl Pink Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/hot-pink-bridesmaid-dresses" alt="Hot Pink Bridesmaid Dresses" class="show-colors show-color-hot_pink" title="Hot Pink Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/coral-bridesmaid-dresses" alt="Coral Bridesmaid Dresses" class="show-colors show-color-coral" title="Coral Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/gold-bridesmaid-dresses" alt="Gold Bridesmaid Dresses" class="show-colors show-color-gold" title="Gold Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/yellow-bridesmaid-dresses" alt="Yellow Bridesmaid Dresses" class="show-colors show-color-yellow" title="Yellow Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/daffodil-bridesmaid-dresses" alt="Daffodil Bridesmaid Dresses" class="show-colors show-color-daffodil" title="Daffodil Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/orange-bridesmaid-dresses" alt="Orange Bridesmaid Dresses" class="show-colors show-color-orange" title="Orange Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/burnt-orange-bridesmaid-dresses" alt="Burnt Orange Bridesmaid Dresses" class="show-colors show-color-burnt_orange" title="Burnt Orange Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/mustard-yellow-bridesmaid-dresses" alt="Mustard Yellow Bridesmaid Dresses" class="show-colors show-color-mustard_yellow" title="Mustard Yellow Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/rust-bridesmaid-dresses" alt="Rust Bridesmaid Dresses" class="show-colors show-color-rust" title="Rust Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/dusty-rose-bridesmaid-dresses" alt="Dusty Rose Bridesmaid Dresses" class="show-colors show-color-dusty_rose" title="Dusty Rose Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/ivory-bridesmaid-dresses" alt="Ivory Bridesmaid Dresses" class="show-colors show-color-ivory" title="Ivory Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/turquoise-bridesmaid-dresses" alt="Turquoise Bridesmaid Dresses" class="show-colors show-color-turquoise" title="Turquoise Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/spa-bridesmaid-dresses" alt="Spa Bridesmaid Dresses" class="show-colors show-color-spa" title="Spa Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/sage-bridesmaid-dresses" alt="Sage Bridesmaid Dresses" class="show-colors show-color-sage" title="Sage Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/dusty-sage-bridesmaid-dresses" alt="Dusty Sage Bridesmaid Dresses" class="show-colors show-color-dusty_sage" title="Dusty Sage Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/olive-green-bridesmaid-dresses" alt="Olive Green Bridesmaid Dresses" class="show-colors show-color-olive_green" title="Olive Green Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/emerald-bridesmaid-dresses" alt="Emerald Bridesmaid Dresses" class="show-colors show-color-emerald" title="Emerald Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/dark-green-bridesmaid-dresses" alt="Dark Green Bridesmaid Dresses" class="show-colors show-color-dark_green" title="Dark Green Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/wisteria-bridesmaid-dresses" alt="Wisteria Bridesmaid Dresses" class="show-colors show-color-wisteria" title="Wisteria Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/light-purple-bridesmaid-dresses" alt="Light Purple Bridesmaid Dresses" class="show-colors show-color-light_purple" title="Light Purple Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/orchid-bridesmaid-dresses" alt="Orchid Bridesmaid Dresses" class="show-colors show-color-orchid" title="Orchid Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/mulberry-bridesmaid-dresses" alt="Mulberry Bridesmaid Dresses" class="show-colors show-color-mulberry" title="Mulberry Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/mauve-bridesmaid-dresses" alt="Mauve Bridesmaid Dresses" class="show-colors show-color-mauve" title="Mauve Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/purple-bridesmaid-dresses" alt="Purple Bridesmaid Dresses" class="show-colors show-color-purple" title="Purple Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/mist-blue-bridesmaid-dresses" alt="Mist Blue Bridesmaid Dresses" class="show-colors show-color-mist_blue" title="Mist Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/sky-blue-bridesmaid-dresses" alt="Sky Blue Bridesmaid Dresses" class="show-colors show-color-sky_blue" title="Sky Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/ocean-blue-bridesmaid-dresses" alt="Ocean Blue Bridesmaid Dresses" class="show-colors show-color-ocean_blue" title="Ocean Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/aqua-blue-bridesmaid-dresses" alt="Aqua Blue Bridesmaid Dresses" class="show-colors show-color-aqua_blue" title="Aqua Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/jay-blue-bridesmaid-dresses" alt="Jay Blue Bridesmaid Dresses" class="show-colors show-color-jay_blue" title="Jay Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/dusty-blue-bridesmaid-dresses" alt="Dusty Blue Bridesmaid Dresses" class="show-colors show-color-dusty_blue" title="Dusty Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/steel-blue-bridesmaid-dresses" alt="Steel Blue Bridesmaid Dresses" class="show-colors show-color-steel_blue" title="Steel Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/stormy-blue-bridesmaid-dresses" alt="Stormy Blue Bridesmaid Dresses" class="show-colors show-color-stormy_blue" title="Stormy Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/ink-blue-bridesmaid-dresses" alt="Ink Blue Bridesmaid Dresses" class="show-colors show-color-ink_blue" title="Ink Blue Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/peacock-bridesmaid-dresses" alt="Peacock Bridesmaid Dresses" class="show-colors show-color-peacock" title="Peacock Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/gray-bridesmaid-dresses" alt="Gray Bridesmaid Dresses" class="show-colors show-color-gray" title="Gray Bridesmaid Dresses"> </a></li>
<li><a href="https://www.lavetir.com/collections/lilac-bridesmaid-dresses" alt="Lilac Bridesmaid Dresses" class="show-colors show-color-lilac" title="Lilac Bridesmaid Dresses"> </a></li>
</ul>
</div>
{% endif %}          
          
          {%- paginate collection.products by paginate_by -%}
          {%- for block in section.blocks -%}
            <div {{ block.shopify_attributes }} {%- if block.type == 'product-grid' -%}data-scroll-to{%- endif -%}>
              {%- case block.type -%}
              {%- when 'collection_description' -%}
                {%- if collection.description != blank and current_filter_size == 0 -%}
                  <div class="rte collection__description">
                    {{ collection.description }}
                  </div>
                {%- endif -%}
              {%- when 'subcollections' -%}
                {%- if paginate.current_page == 1 and current_filter_size == 0 -%}
                  {%- render 'subcollections', per_row: block.settings.subcollections_per_row -%}
                {%- endif -%}
              {%- when 'product_grid' -%}
                <div data-scroll-to>
                  {% render 'collection-grid',
                    collection: collection,
                    items: collection.products,
                    enable_sidebar: section.settings.enable_sidebar,
                    filter_style: section.settings.filter_style,
                    enable_sort: section.settings.enable_sort,
                    enable_collection_count: block.settings.enable_collection_count,
                    per_row: block.settings.per_row,
                    mobile_flush_grid: block.settings.mobile_flush_grid,
                    quick_shop_enable: settings.quick_shop_enable
                  %}
                  {%- if paginate.pages > 1 -%}
                    {%- render 'pagination', paginate: paginate -%}
                  {%- endif -%}
                </div>
              {%- endcase -%}
            </div>
          {%- endfor -%}

          {%- endpaginate -%}
        </div>
      </div>
    </div>
  </div>
</div>

{%- if section.settings.enable_sidebar == false or section.settings.filter_style == 'drawer' or collection.filters.size == 0 -%}
{% comment %}
  Override grid styles if sidebar is disabled
{% endcomment %}
{% style %}
  .collection-content .grid__item--sidebar { width: 0; padding:0; }
  .collection-content .grid__item--content { width: 100%; }
  .grid__item--sidebar { position: static; overflow: hidden; }
{% endstyle %}
{%- endif -%}
{%- comment -%}
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "CollectionPage",
  {% if collection.description != blank %}
    "description": {{ collection.description | strip_html | json }},
  {% endif %}
  {% if page_image %}
    {% assign image_size = page_image.width | append: 'x' %}
    "image": {
      "@type": "ImageObject",
      "height": {{ page_image.height | json }},
      "url": {{ page_image | img_url: image_size | prepend: "https:" | json }},
      "width": {{ page_image.width | json }}
    },
  {% endif %}
  "name": {{ collection.title | json }}
}
</script>
{%- endcomment -%}
{% schema %}
{
  "name": "t:sections.main-collection.name",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.main-collection.settings.header_filtering_and_sorting"
    },
    {
      "type": "checkbox",
      "id": "enable_sidebar",
      "label": "t:sections.main-collection.settings.enable_sidebar.label",
      "default": true,
      "info": "t:sections.main-collection.settings.enable_sidebar.info"
    },
    {
      "type": "checkbox",
      "id": "collapsed",
      "label": "t:sections.main-collection.settings.collapsed.label",
      "default": true
    },
    {
      "type": "select",
      "id": "filter_style",
      "label": "t:sections.main-collection.settings.filter_style.label",
      "default": "sidebar",
      "options": [
        {
          "value": "sidebar",
          "label": "t:sections.main-collection.settings.filter_style.options.sidebar.label"
        },
        {
          "value": "drawer",
          "label": "t:sections.main-collection.settings.filter_style.options.drawer.label"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "enable_color_swatches",
      "label": "t:sections.main-collection.settings.enable_color_swatches.label",
      "info": "t:sections.main-collection.settings.enable_color_swatches.info"
    },
    {
      "type": "checkbox",
      "id": "enable_sort",
      "label": "t:sections.main-collection.settings.enable_sort.label",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "collection_description",
      "name": "t:sections.main-collection.blocks.collection_description.name",
      "limit": 1
    },
    {
      "type": "product_grid",
      "name": "t:sections.main-collection.blocks.products.name",
      "settings": [
        {
          "type": "checkbox",
          "id": "enable_collection_count",
          "label": "t:sections.main-collection.blocks.products.settings.enable_collection_count.label",
          "default": true
        },
        {
          "type": "range",
          "id": "per_row",
          "label": "t:sections.main-collection.blocks.products.settings.per_row.label",
          "default": 4,
          "min": 2,
          "max": 5,
          "step": 1
        },
        {
          "type": "range",
          "id": "rows_per_page",
          "label": "t:sections.main-collection.blocks.products.settings.rows_per_page.label",
          "default": 7,
          "min": 3,
          "max": 20,
          "step": 1
        },
        {
          "type": "checkbox",
          "id": "mobile_flush_grid",
          "label": "t:sections.main-collection.blocks.products.settings.mobile_flush_grid.label",
          "default": false
        }
      ],
      "limit": 1
    },
    {
      "type": "subcollections",
      "name": "t:sections.main-collection.blocks.subcollections.name",
      "settings": [
        {
          "type": "paragraph",
          "content": "t:sections.main-collection.blocks.subcollections.settings.content"
        },
        {
          "type": "range",
          "id": "subcollections_per_row",
          "label": "t:sections.main-collection.blocks.subcollections.settings.subcollections_per_row.label",
          "default": 5,
          "min": 2,
          "max": 5,
          "step": 1
        }
      ],
      "limit": 1
    }
  ]
}
{% endschema %}
